"use strict";(self.webpackChunknested_list=self.webpackChunknested_list||[]).push([[945],{945:(n,e,t)=>{t.r(e),t.d(e,{default:()=>rn});var r,o,i,a,c,l,d,s,f,u,p,m,x,b,g,y,h,v,w,k,j,C=t(848),A=t(540),O=function(){return O=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},O.apply(this,arguments)},z=function(n,e,t){if(t||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))},E=t(581),I=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},M=function(n){var e=n.children,t=n.onClick,r=n.small,o=n.variant;return(0,C.jsx)(P,{onClick:t,small:r,variant:o,children:e})},P=E.Ay.button(i||(i=I(["\n  cursor: pointer;\n  background-color: ",";\n  color: #ffffff;\n  border: none;\n  border-radius: 5px;\n  padding: ",";\n  font-size: ",";\n  transition: background-color 0.3s;\n\n  &:hover {\n    animation: ",";\n  }\n\n  &:active {\n    transform: scale(0.98);\n  }\n"],["\n  cursor: pointer;\n  background-color: ",";\n  color: #ffffff;\n  border: none;\n  border-radius: 5px;\n  padding: ",";\n  font-size: ",";\n  transition: background-color 0.3s;\n\n  &:hover {\n    animation: ",";\n  }\n\n  &:active {\n    transform: scale(0.98);\n  }\n"])),(function(n){return"secondary"===n.variant?"#cccccc":"#ff5c00"}),(function(n){return n.small?"0.25rem 0.5rem":"0.75rem 1.5rem"}),(function(n){return n.small?"0.8rem":"1rem"}),(function(n){var e=n.variant;return(0,E.AH)(o||(o=I(["\n      "," 0.3s forwards\n    "],["\n      "," 0.3s forwards\n    "])),function(n){var e="secondary"===n?"#cccccc":"#ff5c00",t="secondary"===n?"#b3b3b3":"#e04e00";return(0,E.i7)(r||(r=I(["\n    from {\n      background-color: ",";\n    }\n    to {\n      background-color: ",";\n    }\n  "],["\n    from {\n      background-color: ",";\n    }\n    to {\n      background-color: ",";\n    }\n  "])),e,t)}(e))})),V=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},S=function(n){var e=n.isOpen,t=n.inputValue,r=n.setInputValue,o=n.onClose,i=n.onAdd,a=(0,A.useRef)(null);return(0,A.useEffect)((function(){e&&a.current&&a.current.focus()}),[e]),e?(0,C.jsx)(D,{children:(0,C.jsxs)(G,{children:[(0,C.jsx)(R,{children:"Добавить новый элемент"}),(0,C.jsx)(T,{ref:a,type:"text",value:t,onChange:function(n){return r(n.target.value)},placeholder:"Введите название",onKeyDown:function(n){"Enter"===n.key&&i()}}),(0,C.jsxs)(_,{children:[(0,C.jsx)(M,{onClick:i,children:"Добавить"}),(0,C.jsx)(M,{onClick:o,variant:"secondary",children:"Отмена"})]})]})}):null},Y=(0,E.i7)(a||(a=V(["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"],["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"]))),D=E.Ay.div(c||(c=V(["\n  animation: "," 0.3s forwards;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  animation: "," 0.3s forwards;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),Y),L=(0,E.i7)(l||(l=V(["\n  from { transform: translateY(-20px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n"],["\n  from { transform: translateY(-20px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n"]))),G=E.Ay.div(d||(d=V(["\n  animation: "," 0.3s forwards;\n  background-color: #ffffff;\n  padding: 2rem;\n  border-radius: 8px;\n  width: 400px;\n  max-width: 90%;\n"],["\n  animation: "," 0.3s forwards;\n  background-color: #ffffff;\n  padding: 2rem;\n  border-radius: 8px;\n  width: 400px;\n  max-width: 90%;\n"])),L),R=E.Ay.h2(s||(s=V(["\n  margin-top: 0;\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n"],["\n  margin-top: 0;\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n"]))),T=E.Ay.input(f||(f=V(["\n  width: 100%;\n  padding: 0.75rem;\n  font-size: 1rem;\n  margin-bottom: 1.5rem;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  &:focus {\n    outline: none;\n    border-color: #ff5c00;\n  }\n"],["\n  width: 100%;\n  padding: 0.75rem;\n  font-size: 1rem;\n  margin-bottom: 1.5rem;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  &:focus {\n    outline: none;\n    border-color: #ff5c00;\n  }\n"]))),_=E.Ay.div(u||(u=V(["\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n"]))),F=t(937),H=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},K=function(n){var e=n.isOpen,t=n.onClose,r=n.onConfirm;return e?(0,C.jsx)(q,{children:(0,C.jsxs)(J,{children:[(0,C.jsx)(N,{children:"Удалить элемент"}),(0,C.jsx)(Q,{children:"Вы действительно хотите удалить этот элемент?"}),(0,C.jsxs)(U,{children:[(0,C.jsx)(M,{onClick:r,variant:"primary",children:"Удалить"}),(0,C.jsx)(M,{onClick:t,variant:"secondary",children:"Отмена"})]})]})}):null},W=(0,E.i7)(p||(p=H(["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"],["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"]))),q=E.Ay.div(m||(m=H(["\n  z-index: 1;\n  animation: "," 0.3s forwards;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  z-index: 1;\n  animation: "," 0.3s forwards;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),W),B=(0,E.i7)(x||(x=H(["\n  from { transform: translateY(-20px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n"],["\n  from { transform: translateY(-20px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n"]))),J=E.Ay.div(b||(b=H(["\n  animation: "," 0.3s forwards;\n  background-color: #ffffff;\n  padding: 2rem;\n  border-radius: 8px;\n  width: 400px;\n  max-width: 90%;\n"],["\n  animation: "," 0.3s forwards;\n  background-color: #ffffff;\n  padding: 2rem;\n  border-radius: 8px;\n  width: 400px;\n  max-width: 90%;\n"])),B),N=E.Ay.h2(g||(g=H(["\n  margin-top: 0;\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n"],["\n  margin-top: 0;\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n"]))),Q=E.Ay.p(y||(y=H(["\n  margin-bottom: 1.5rem;\n  font-size: 1rem;\n"],["\n  margin-bottom: 1.5rem;\n  font-size: 1rem;\n"]))),U=E.Ay.div(h||(h=H(["\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n"]))),X=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},Z=function(n){var e=n.item,t=n.onAdd,r=n.onDelete,o=n.level,i=void 0===o?0:o,a=A.useState(!1),c=a[0],l=a[1],d=e.children.length>0,s=function(){var n=(0,A.useState)(!1),e=n[0],t=n[1],r=(0,A.useState)(null),o=r[0],i=r[1],a=(0,A.useCallback)((function(n){i(n),t(!0)}),[]),c=(0,A.useCallback)((function(){t(!1),i(null)}),[]),l=(0,A.useCallback)((function(n){"Escape"===n.key&&c()}),[c]);return(0,A.useEffect)((function(){return e?window.addEventListener("keydown",l):window.removeEventListener("keydown",l),function(){return window.removeEventListener("keydown",l)}}),[e,l]),{isOpen:e,itemIdToDelete:o,openModal:a,closeModal:c}}(),f=s.isOpen,u=s.itemIdToDelete,p=s.openModal,m=s.closeModal;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)($,{level:i,children:[(0,C.jsxs)(nn,{level:i,children:[d?(0,C.jsx)(en,{onClick:function(){return l(!c)},children:c?(0,C.jsx)(F.M1W,{}):(0,C.jsx)(F.g1V,{})}):(0,C.jsx)(F.Gp9,{}),(0,C.jsx)("span",{children:e.name}),(0,C.jsx)(M,{onClick:function(){return t(e.id)},small:!0,children:(0,C.jsx)(F.OiG,{})}),"root"!==e.id&&(0,C.jsx)(M,{onClick:function(){return p(e.id)},small:!0,children:(0,C.jsx)(F.iu5,{})})]}),!c&&(0,C.jsx)(tn,{children:e.children.map((function(n){return(0,C.jsx)(Z,{item:n,onAdd:t,onDelete:r,level:i+1},n.id)}))})]}),(0,C.jsx)(K,{isOpen:f,onClose:m,onConfirm:function(){u&&(r(u),m())}})]})},$=E.Ay.div(v||(v=X(["\n  position: relative;\n  margin-left: ","px;\n  padding-left: ",'px;\n\n  &:before {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: ',"px;\n    bottom: 0;\n    width: ",";\n    background: #ccc;\n  }\n"],["\n  position: relative;\n  margin-left: ","px;\n  padding-left: ",'px;\n\n  &:before {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: ',"px;\n    bottom: 0;\n    width: ",";\n    background: #ccc;\n  }\n"])),(function(n){return n.level>0?20:0}),(function(n){return n.level>0?10:0}),(function(n){return n.level>0?-10:0}),(function(n){return n.level>0?"1px":"0"})),nn=E.Ay.div(w||(w=X(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  position: relative;\n  padding: 5px 10px;\n  background-color: ",';\n  border-radius: 5px;\n\n  &:before {\n    content: "";\n    position: absolute;\n    top: 50%;\n    left: -10px;\n    width: ',";\n    height: 1px;\n    background: #ccc;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  position: relative;\n  padding: 5px 10px;\n  background-color: ",';\n  border-radius: 5px;\n\n  &:before {\n    content: "";\n    position: absolute;\n    top: 50%;\n    left: -10px;\n    width: ',";\n    height: 1px;\n    background: #ccc;\n  }\n"])),(function(n){var e=n.level;return"hsl(".concat(20*e,", 80%, 90%)")}),(function(n){return n.level>0?"10px":"0"})),en=E.Ay.span(k||(k=X(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n"],["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n"]))),tn=E.Ay.div(j||(j=X(["\n  margin-top: 5px;\n"],["\n  margin-top: 5px;\n"])));const rn=function(){var n=function(){var n=(0,A.useState)({id:"root",name:"Root",children:[]}),e=n[0],t=n[1];return{list:e,addItem:function(n,r){var o={id:Date.now().toString(),name:r,children:[]},i=function(e){return e.id===n?O(O({},e),{children:z(z([],e.children,!0),[o],!1)}):O(O({},e),{children:e.children.map(i)})};t(i(e))},deleteItem:function(n){if("root"!==n){var r=function(e){return e.id===n?null:O(O({},e),{children:e.children.map(r).filter((function(n){return null!==n}))})},o=r(e);o&&t(o)}}}}(),e=n.list,t=n.addItem,r=n.deleteItem,o=function(){var n=(0,A.useState)(!1),e=n[0],t=n[1],r=(0,A.useState)(""),o=r[0],i=r[1],a=(0,A.useCallback)((function(){return t(!0)}),[]),c=(0,A.useCallback)((function(){t(!1),i("")}),[]),l=(0,A.useCallback)((function(n){"Escape"===n.key&&c()}),[c,e]);return(0,A.useEffect)((function(){return e?window.addEventListener("keydown",l):window.removeEventListener("keydown",l),function(){return window.removeEventListener("keydown",l)}}),[e,l]),{isOpen:e,inputValue:o,setInputValue:i,openModal:a,closeModal:c}}(),i=o.isOpen,a=o.inputValue,c=o.setInputValue,l=o.openModal,d=o.closeModal,s=A.useState(null),f=s[0],u=s[1],p=(0,A.useCallback)((function(n){u(n),l()}),[l]),m=(0,A.useCallback)((function(){f&&a.trim()&&(t(f,a.trim()),d())}),[t,d,f,a]);return(0,C.jsxs)("div",{children:[(0,C.jsx)(Z,{item:e,onAdd:p,onDelete:function(n){r(n)}}),(0,C.jsx)(S,{isOpen:i,inputValue:a,setInputValue:c,onClose:d,onAdd:m})]})}}}]);